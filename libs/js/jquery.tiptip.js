(function(e){e.fn.tipTip=function(t){var n={activation:"hover",keepAlive:false,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:-100,fadeIn:-200,fadeOut:-200,attribute:"title",content:false,enter:function(){},exit:function(){}};var r=e.extend(n,t);if(e("#tiptip_holder").length<=0){var i=e('<div id="tiptip_holder" style="max-width:'+r.maxWidth+';"></div>');var s=e('<div id="tiptip_content"></div>');var o=e('<div id="tiptip_arrow"></div>');e("body").append(i.html(s).prepend(o.html('<div id="tiptip_arrow_inner"></div>')))}else{var i=e("#tiptip_holder");var s=e("#tiptip_content");var o=e("#tiptip_arrow")}return this.each(function(){var t=e(this);if(r.content){var n=r.content}else{var n=t.attr(r.attribute)}if(n!=""){if(!r.content){t.removeAttr(r.attribute)}var u=false;if(r.activation=="hover"){t.hover(function(){a()},function(){if(!r.keepAlive){f()}});if(r.keepAlive){i.hover(function(){},function(){f()})}}else if(r.activation=="focus"){t.focus(function(){a()}).blur(function(){f()})}else if(r.activation=="click"){t.click(function(){a();return false}).hover(function(){},function(){if(!r.keepAlive){f()}});if(r.keepAlive){i.hover(function(){},function(){f()})}}function a(){r.enter.call(this);s.html(n);i.hide().removeAttr("class").css("margin","0");o.removeAttr("style");var a=parseInt(t.offset()["top"]);var f=parseInt(t.offset()["left"]);var l=parseInt(t.outerWidth());var c=parseInt(t.outerHeight());var h=i.outerWidth();var p=i.outerHeight();var d=Math.round((l-h)/2);var v=Math.round((c-p)/2);var m=Math.round(f+d);var g=Math.round(a+c+r.edgeOffset);var y="";var b="";var w=Math.round(h-12)/2;if(r.defaultPosition=="bottom"){y="_bottom"}else if(r.defaultPosition=="top"){y="_top"}else if(r.defaultPosition=="left"){y="_left"}else if(r.defaultPosition=="right"){y="_right"}var E=d+f<parseInt(e(window).scrollLeft());var S=h+f>parseInt(e(window).width());if(E&&d<0||y=="_right"&&!S||y=="_left"&&f<h+r.edgeOffset+5){y="_right";b=Math.round(p-13)/2;w=-12;m=Math.round(f+l+r.edgeOffset);g=Math.round(a+v)}else if(S&&d<0||y=="_left"&&!E){y="_left";b=Math.round(p-13)/2;w=Math.round(h);m=Math.round(f-(h+r.edgeOffset+5));g=Math.round(a+v)}var x=a+c+r.edgeOffset+p+8>parseInt(e(window).height()+e(window).scrollTop());var T=a+c-(r.edgeOffset+p+8)<0;if(x||y=="_bottom"&&x||y=="_top"&&!T){if(y=="_top"||y=="_bottom"){y="_top"}else{y=y+"_top"}b=p;g=Math.round(a-(p+5+r.edgeOffset))}else if(T|(y=="_top"&&T)||y=="_bottom"&&!x){if(y=="_top"||y=="_bottom"){y="_bottom"}else{y=y+"_bottom"}b=-12;g=Math.round(a+c+r.edgeOffset)}if(y=="_right_top"||y=="_left_top"){g=g+5}else if(y=="_right_bottom"||y=="_left_bottom"){g=g-5}if(y=="_left_top"||y=="_left_bottom"){m=m+5}o.css({"margin-left":w+"px","margin-top":b+"px"});i.css({"margin-left":m+"px","margin-top":g+"px"}).attr("class","tip"+y);if(u){clearTimeout(u)}u=setTimeout(function(){i.stop(true,true).fadeIn(r.fadeIn)},r.delay)}function f(){r.exit.call(this);if(u){clearTimeout(u)}i.fadeOut(r.fadeOut)}}})}})(jQuery)